# Example

The compiled executable file of the application is located in/ Bin down

To run and modify the startup parameters

```shell
main.exe/main -p <port> -d <domail>
```

If you are familiar with go, you can change the source code to modify more configurations. The basic configuration is located in ./config/setting.go, the functions of each module are located in the model folder

These functions are located in ./model

## Types

```go
// Metadata structure of md file
type baseconfig struct {
	Title   string   `yaml:"title,omitempty"`
	Author  string   `yaml:"author,omitempty"`
	Authors []string `yaml:"authors,omitempty"`
	Summary string   `yaml:"summary,omitempty"`
	Date    string   `yaml:"date,omitempty"`
	Update  string   `yaml:"update,omitempty"`
}

// Render the metadata structure of the document
type Post struct {
	Title      string // Undefined
	Date       string // Unknown
	Update     string // Unknown
	Summary    string //
	Author     template.HTML //
	Body       template.HTML // 
	OriginFile string // Origin File Path
}

// Catalog File Data Structure
type Cata struct {
	Name  string
	Super string
	Level string
}
```

# Funcs

```go
func RenderMarkdown(mdFilePath string) Post {}
```

This function passes in the address, judges whether its address is available, and calls ReadMarkdown() to read the existing file

```go
if path.Ext(mdFilePath) != ".md" || path.Ext(mdFilePath) != "" {
		c.Abort()
	}
	source := config.PostsPath + "/" + mdFilePath + ".md"
	if !IsExist("." + source) {
		source = config.PostsPath + "/" + mdFilePath + "index.md"
		if !IsExist("." + source) {
			source = config.PostsPath + "/" + mdFilePath + "/index.md"
			if !IsExist("." + source) {
				source = config.PostsPath + "/" + mdFilePath
			}
		}
	}
```

The logic of matching existing files is as shown above, which is the same as `URL as path`

```go
func RenderPost(c *gin.Context) {}
```

This function will combine "lang" and the request path to parse the document for the address, and render it to HTML through RenderMarkdown()

```go
func RenderCatalog(DirectoryFilePath string) []Cata {}
```

This function will read the incoming DirectoryFilePath, use "\\" as the dividing symbol, split the indent level, title, URL path, and return the split data slice
```go
func getMeta(data string) (string, int) {}

func getTitie(data string) string {}
```

These two functions match content through regular

getMeta use `---([\s\S]*?\n)---` Return the metadata in data and the length of metadata

getTitle use `(#)[^\n]*?\n` Return the first level title in data
